---
import { Image } from 'astro:assets';
import { marked } from 'marked';
import Button from './ui/ButtonCustom.astro';
import Link from './ui/LinkCustom.astro';
import Card from './ui/card.astro';
import CardFull from './ui/card-full.astro';
import history from '../assets/icons/history.svg';
import ME from '../assets/img/me_transparant.png';
import idnGuessr from '../assets/img/project/idn-guessr.png';
import earthquake from '../assets/img/project/earthquake.png';
import digitizing from '../assets/img/project/digitation-app.png';
import zipUsa from '../assets/img/project/zip-usa.png';

const introduction =
  'Software Engineer from 🇮🇩 (+62), specializing in **web applications** and **GIS solutions**. Passionate about building efficient, scalable, and maintanable application.';
const mdIntro = marked.parse(introduction);

const expertise = [
  'Comprehensive Web Solutions 💻',
  'End-to-End Web Services 🌐',
  'API Development & Management 🚠',
  'Visualization Spatial Data 🌇',
  'Spatial Data Analysis 📊',
  'Spatial Database 🐘',
  'Containerized Deployments 🐳',
  'Infrastucture Web Services 🚧',
  'AI Integration with Custom API 🤖',
];

const content = [
  {
    id: '3',
    icon: history,
    content: [
      {
        text: 'Lorem ipsum, dolor sit amet consectetur adipisicing elit. Sed autem doloribus quod tenetur possimus provident?',
      },
    ],
  },
];

const experieces = [
  {
    date: 'May 2023 - present',
    company: 'IMP Studio',
    position: 'Software Engineer',
    site: 'https://impstudio.id/',
  },
  {
    date: 'Jan 2023 - May 2023',
    company: 'PUPR Riau',
    position: 'Backend Engineer Mobile App',
    site: 'https://panglima.riau.go.id/',
  },
  {
    date: 'Aug 2022 - Feb 2023',
    company: 'Entrust Digital X BRI',
    position: 'Fullstack Developer',
    site: 'https://bri.co.id/',
  },
  {
    date: 'Aug 2021 - Jun 2022',
    company: 'Strato Solutions, Sdm.bhd',
    position: 'GIS Programmer Engineer',
    site: 'https://www.stratosolutions.com.my/',
  },
  {
    date: 'Aug 2020 - present',
    company: 'Upwork',
    position: 'Freelance',
    site: 'https://www.upwork.com/freelancers/~0100a0eff9b9c49f3f',
  },
  {
    date: 'Jan 2020 - Aug 2021',
    company: 'PT Mahika Tjipta Abadi',
    position: 'Head of Geologist Engineer',
    site: '-',
  },
  {
    date: 'Dec 2018 - Dec 2019',
    company: 'Indogeo Enterprice',
    position: 'Team Lead GIS Analysis',
    site: 'http://indogeo.org/',
  },
];
---

<div class="flex-1 flex flex-col p-6">
  <div class="items-start flex text-primary-content lg:px-28 lg:pb-5 pb-2">
    <div
      class="flex w-full items-center lg:flex-row flex-col justify-between lg:gap-10 gap-4"
    >
      <div
        class="flex flex-col items-center justify-center w-full lg:gap-10 gap-6"
      >
        <div
          class="flex flex-col lg:gap-2 items-center lg:items-start justify-center lg:justify-start w-full"
        >
          <div class="lg:text-xl text-md font-light"> About me</div>
          <div class="lg:text-5xl text-2xl">
            My name is <span class="font-bold text-primary">Adi Nugraha</span>
          </div>
        </div>
        <div class="lg:text-xl text-md font-light hidden lg:block">
          <article set:html={mdIntro} />
        </div>
      </div>
      <Card size="md" type="filled">
        <Image
          src={ME}
          alt="ME"
          width="150"
          height="200"
          class="w-48 lg:w-56 h-auto"
        />
      </Card>
    </div>
  </div>
  <div
    class="lg:text-xl text-md font-light lg:px-28 lg:pb-5 pb-2 lg:hidden flex items-center lg:items-start justify-center lg:justify-start w-full text-center my-4"
  >
    <article set:html={mdIntro} />
  </div>
  <div class="flex gap-6 lg:text-xl text-md font-light lg:px-28 pb-10">
    <Link
      href="/docs/CV-Adi_Nugraha-022025.pdf"
      target="_blank"
      id="download_resume"
      variant="primary"
      size="md"
      >Download Resume <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
        class="size-6"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M12 9.75v6.75m0 0-3-3m3 3 3-3m-8.25 6a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"
        ></path>
      </svg>
    </Link>
  </div>
  <div class="items-start flex text-primary-content lg:px-28 lg:pb-5 pb-2">
    <div class="lg:text-5xl text-2xl"> Experiences </div>
  </div>
  <section
    id="work"
    class="flex-1 items-start flex-col flex text-primary-content lg:px-28 lg:pb-20 pb-10"
  >
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-4 w-full">
      {
        experieces.map((item) => (
          <div class="flex flex-col gap-1 mt-auto mb-4">
            <a
              href={item.site === '-' ? '404' : item.site}
              target="_blank"
              class="text-xl font-medium underline-offset-2 underline"
            >
              {item.company}
            </a>
            <div class="text-xl font-mono">{item.position}</div>
            <div class="text-sm font-light">{item.date}</div>
          </div>
        ))
      }
    </div>
  </section>
  <div class="items-start flex text-primary-content lg:px-28 lg:pb-5 pb-2">
    <div class="lg:text-5xl text-2xl"> Experties </div>
  </div>
  <div class="items-start flex text-primary-content lg:px-28 lg:pb-20 pb-10">
    <div class="flex-1 flex flex-wrap gap-6">
      {expertise.map((item) => <CardFull size="sm">{item}</CardFull>)}
    </div>
  </div>
</div>
